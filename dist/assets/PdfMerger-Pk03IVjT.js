import{r as d,j as e,B as o,L as g}from"./index-BadHY94B.js";import{m as f}from"./pdfUtils-BHE98wr3.js";import"./PDFButton-Bd-pmcYz.js";function m(l,a,c){const i=[...l],[n]=i.splice(a,1);return i.splice(c,0,n),i}function w(){const[l,a]=d.useState([]),[c,i]=d.useState(!1),[n,r]=d.useState(null),h=d.useMemo(()=>n?URL.createObjectURL(n):null,[n]),u=s=>{const t=Array.from(s||[]);a(t),r(null)},p=async()=>{if(!(l.length<2)){i(!0),r(null);try{const s=await f(l);r(s)}finally{i(!1)}}},j=()=>{if(!n)return;const s=document.createElement("a");s.href=h,s.download="merged.pdf",document.body.appendChild(s),s.click(),s.remove()};return e.jsx("div",{className:"container",children:e.jsx("div",{className:"card",children:e.jsxs("div",{className:"section",children:[e.jsx("div",{className:"h1",style:{fontSize:28},children:"PDF Merger"}),e.jsx("p",{className:"p",children:"Upload multiple PDFs, reorder, merge, and download."}),e.jsx("div",{style:{height:14}}),e.jsxs("div",{className:"row",style:{alignItems:"flex-end"},children:[e.jsxs("div",{style:{flex:1},children:[e.jsx("label",{className:"label",children:"Upload PDFs"}),e.jsx("input",{className:"input",type:"file",accept:"application/pdf",multiple:!0,onChange:s=>u(s.target.files)})]}),e.jsx(o,{onClick:p,disabled:l.length<2||c,children:"Merge"}),e.jsx(o,{variant:"secondary",onClick:j,disabled:!n||c,children:"Download"})]}),e.jsx("div",{style:{height:14}}),c?e.jsx(g,{label:"Mergingâ€¦"}):null,e.jsx("div",{style:{height:10}}),l.length?e.jsx("div",{className:"grid",style:{gap:10},children:l.map((s,t)=>e.jsx("div",{className:"card",style:{boxShadow:"none"},children:e.jsxs("div",{className:"section",style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:12},children:[e.jsxs("div",{children:[e.jsxs("div",{style:{fontWeight:700},children:[t+1,". ",s.name]}),e.jsxs("div",{className:"muted",style:{fontSize:12},children:[(s.size/1024/1024).toFixed(2)," MB"]})]}),e.jsxs("div",{className:"row",children:[e.jsx(o,{variant:"secondary",size:"sm",disabled:t===0,onClick:()=>{a(m(l,t,t-1)),r(null)},children:"Up"}),e.jsx(o,{variant:"secondary",size:"sm",disabled:t===l.length-1,onClick:()=>{a(m(l,t,t+1)),r(null)},children:"Down"}),e.jsx(o,{variant:"ghost",size:"sm",onClick:()=>{a(l.filter((y,x)=>x!==t)),r(null)},children:"Remove"})]})]})},`${s.name}-${t}`))}):e.jsx("div",{className:"muted",children:"Pick at least 2 PDFs to merge."})]})})})}export{w as default};
